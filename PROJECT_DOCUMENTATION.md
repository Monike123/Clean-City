# ğŸ™ï¸ Clear City - Complete Project Documentation

## Table of Contents
1. [Project Overview](#project-overview)
2. [Why Clear City?](#why-clear-city)
3. [System Architecture](#system-architecture)
4. [User Roles](#user-roles)
5. [Application Structure](#application-structure)
6. [Database Schema](#database-schema)
7. [Complete User Flows](#complete-user-flows)
8. [Technology Stack](#technology-stack)
9. [Key Features](#key-features)
10. [API & Data Flow](#api--data-flow)

---

## Project Overview

**Clear City** is a civic waste management platform that connects citizens, municipal workers, and administrators to identify, track, and resolve waste/garbage issues in urban areas.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CLEAR CITY ECOSYSTEM                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   ğŸ‘¤ CITIZEN                ğŸ”§ WORKER               ğŸ‘¨â€ğŸ’¼ ADMIN     â”‚
â”‚   Reports waste            Resolves issues         Manages all   â”‚
â”‚   Tracks progress          Uploads proof           Verifies work â”‚
â”‚   Earns points             Earns rewards           Analytics     â”‚
â”‚                                                                  â”‚
â”‚         â”‚                        â”‚                      â”‚        â”‚
â”‚         â–¼                        â–¼                      â–¼        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                    SUPABASE BACKEND                      â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â”‚  â”‚ Database â”‚  â”‚ Storage  â”‚  â”‚   Auth   â”‚  â”‚Realtime â”‚  â”‚   â”‚
â”‚   â”‚  â”‚PostgreSQLâ”‚  â”‚  Bucket  â”‚  â”‚  System  â”‚  â”‚  Sync   â”‚  â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Why Clear City?

### The Problem
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    URBAN WASTE CHALLENGES                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  âŒ Citizens have no easy way to report waste dumps          â”‚
â”‚  âŒ Municipal workers don't know where problems exist        â”‚
â”‚  âŒ No tracking of issue resolution                          â”‚
â”‚  âŒ No accountability for cleanliness                        â”‚
â”‚  âŒ Citizens feel disconnected from civic processes          â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### The Solution
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLEAR CITY SOLUTION                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  âœ… Easy photo-based reporting with AI verification          â”‚
â”‚  âœ… Real-time task assignment to workers                     â”‚
â”‚  âœ… Before/After proof of resolution                         â”‚
â”‚  âœ… Full transparency with tracking                          â”‚
â”‚  âœ… Gamification to encourage citizen participation          â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## System Architecture

### High-Level Architecture
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          CLIENT LAYER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   MOBILE APP     â”‚  â”‚   MOBILE APP     â”‚  â”‚    WEB APP       â”‚   â”‚
â”‚  â”‚   (User Mode)    â”‚  â”‚  (Worker Mode)   â”‚  â”‚  (Admin Panel)   â”‚   â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚   â”‚
â”‚  â”‚  â€¢ Report waste  â”‚  â”‚  â€¢ View tasks    â”‚  â”‚  â€¢ Assign tasks  â”‚   â”‚
â”‚  â”‚  â€¢ Track reports â”‚  â”‚  â€¢ Navigate map  â”‚  â”‚  â€¢ Verify work   â”‚   â”‚
â”‚  â”‚  â€¢ Leaderboard   â”‚  â”‚  â€¢ Upload proof  â”‚  â”‚  â€¢ Analytics     â”‚   â”‚
â”‚  â”‚  â€¢ Profile       â”‚  â”‚  â€¢ Complete task â”‚  â”‚  â€¢ Worker mgmt   â”‚   â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚   â”‚
â”‚  â”‚  React Native    â”‚  â”‚  React Native    â”‚  â”‚  React + Vite    â”‚   â”‚
â”‚  â”‚  Expo Router     â”‚  â”‚  Expo Router     â”‚  â”‚  React Router    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â”‚                     â”‚                     â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                     â”‚                     â”‚
            â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        BACKEND LAYER (SUPABASE)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   PostgreSQL   â”‚  â”‚    Storage     â”‚  â”‚     Auth       â”‚         â”‚
â”‚  â”‚   Database     â”‚  â”‚    Buckets     â”‚  â”‚    System      â”‚         â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                â”‚         â”‚
â”‚  â”‚  â€¢ reports     â”‚  â”‚  â€¢ report-     â”‚  â”‚  â€¢ Phone OTP   â”‚         â”‚
â”‚  â”‚  â€¢ users       â”‚  â”‚    images      â”‚  â”‚  â€¢ Session     â”‚         â”‚
â”‚  â”‚  â€¢ workers     â”‚  â”‚  â€¢ resolution- â”‚  â”‚    management  â”‚         â”‚
â”‚  â”‚  â€¢ worker_tasksâ”‚  â”‚    proofs      â”‚  â”‚  â€¢ Row-level   â”‚         â”‚
â”‚  â”‚  â€¢ likes       â”‚  â”‚                â”‚  â”‚    security    â”‚         â”‚
â”‚  â”‚  â€¢ shares      â”‚  â”‚                â”‚  â”‚                â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Monorepo Structure
```
Environment_tech/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ mobile/                 # React Native (Expo) App
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ (tabs)/        # User navigation tabs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ home.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ map.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ report.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ leaderboard.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ profile.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ (worker)/      # Worker navigation tabs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tasks.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ map.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ profile.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ (auth)/        # Authentication screens
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ login.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ signup.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ otp.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ worker-login.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ report/[id].tsx     # Report detail
â”‚   â”‚   â”‚   â”œâ”€â”€ worker-task/[id].tsx # Task detail
â”‚   â”‚   â”‚   â””â”€â”€ report-camera.tsx   # Camera for reporting
â”‚   â”‚   â”œâ”€â”€ services/          # API services
â”‚   â”‚   â”œâ”€â”€ store/             # State management
â”‚   â”‚   â””â”€â”€ components/        # Reusable components
â”‚   â”‚
â”‚   â””â”€â”€ web/                   # React (Vite) Admin Dashboard
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ pages/
â”‚           â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚           â”‚   â”œâ”€â”€ Reports.tsx
â”‚           â”‚   â”œâ”€â”€ TaskAssignment.tsx
â”‚           â”‚   â”œâ”€â”€ WorkerVerification.tsx
â”‚           â”‚   â””â”€â”€ LiveMap.tsx
â”‚           â””â”€â”€ components/
â”‚
â”œâ”€â”€ database-migrations/       # SQL migration files
â”œâ”€â”€ packages/                  # Shared packages
â””â”€â”€ package.json              # Root workspace config
```

---

## User Roles

### Three Distinct Roles
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          USER ROLES                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ‘¤ CITIZEN (Mobile App - User Mode)                         â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  WHO: Any registered citizen                                 â”‚    â”‚
â”‚  â”‚  WHAT: Report waste issues, track progress, earn points      â”‚    â”‚
â”‚  â”‚  WHY: Empower citizens to improve their neighborhood         â”‚    â”‚
â”‚  â”‚  HOW: Take photo â†’ AI verify â†’ Submit â†’ Track â†’ Earn points  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ”§ WORKER (Mobile App - Worker Mode)                        â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  WHO: Municipal sanitation workers                           â”‚    â”‚
â”‚  â”‚  WHAT: View assigned tasks, navigate, complete, upload proof â”‚    â”‚
â”‚  â”‚  WHY: Efficient task management and accountability           â”‚    â”‚
â”‚  â”‚  HOW: See task â†’ Navigate â†’ Clean â†’ Photo proof â†’ Complete   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ‘¨â€ğŸ’¼ ADMIN (Web Dashboard)                                   â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  WHO: Municipal authority officials                          â”‚    â”‚
â”‚  â”‚  WHAT: Assign tasks, verify work, manage workers, analytics  â”‚    â”‚
â”‚  â”‚  WHY: Oversight, quality control, and resource management    â”‚    â”‚
â”‚  â”‚  HOW: View reports â†’ Assign workers â†’ Verify proof â†’ Resolve â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Database Schema

### Entity Relationship Diagram
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DATABASE SCHEMA (PostgreSQL)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      users       â”‚         â”‚     workers      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚         â”‚ id (PK)          â”‚
â”‚ phone            â”‚         â”‚ user_id (FK)     â”‚â—„â”€â”€â”€â”€â”€â”€â”
â”‚ full_name        â”‚         â”‚ employee_id      â”‚       â”‚
â”‚ avatar_url       â”‚         â”‚ full_name        â”‚       â”‚
â”‚ total_reports    â”‚         â”‚ ward_number      â”‚       â”‚
â”‚ points           â”‚         â”‚ department       â”‚       â”‚
â”‚ rank             â”‚         â”‚ is_active        â”‚       â”‚
â”‚ created_at       â”‚         â”‚ is_available     â”‚       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ total_tasks      â”‚       â”‚
         â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
         â”‚ creates                    â”‚ assigned to     â”‚
         â–¼                            â–¼                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚     reports      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”‚   worker_tasks   â”‚       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ has     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚ id (PK)          â”‚         â”‚ id (PK)          â”‚       â”‚
â”‚ user_id (FK)     â”‚         â”‚ report_id (FK)   â”‚â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ location (JSONB) â”‚         â”‚ worker_id (FK)   â”‚â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ waste_category   â”‚         â”‚ task_status      â”‚
â”‚ severity         â”‚         â”‚ priority         â”‚
â”‚ description      â”‚         â”‚ sla_deadline     â”‚
â”‚ media_file       â”‚         â”‚ assigned_at      â”‚
â”‚ status           â”‚         â”‚ started_at       â”‚
â”‚ assigned_worker  â”‚         â”‚ completed_at     â”‚
â”‚ resolution_image â”‚         â”‚ resolution_proof â”‚
â”‚ created_at       â”‚         â”‚ resolution_notes â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ quality_score    â”‚
         â”‚                   â”‚ verified_at      â”‚
         â”‚ has               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      likes       â”‚         â”‚     shares       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚         â”‚ id (PK)          â”‚
â”‚ user_id (FK)     â”‚         â”‚ user_id (FK)     â”‚
â”‚ report_id (FK)   â”‚         â”‚ report_id (FK)   â”‚
â”‚ created_at       â”‚         â”‚ platform         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ created_at       â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Status Values
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     STATUS LIFECYCLE                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  REPORTS TABLE (status column):                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚submitted â”‚â”€â–¶â”‚ verified â”‚â”€â–¶â”‚IN_PROGRESSâ”‚â”€â–¶â”‚pending_        â”‚      â”‚
â”‚  â”‚          â”‚  â”‚ (AI)     â”‚  â”‚(assigned) â”‚  â”‚verification    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                      â”‚               â”‚
â”‚                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚                                              â”‚   RESOLVED     â”‚      â”‚
â”‚                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                      â”‚
â”‚  WORKER_TASKS TABLE (task_status column):                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ assigned â”‚â”€â–¶â”‚in_progressâ”‚â”€â–¶â”‚ completedâ”‚â”€â–¶â”‚ approved â”‚            â”‚
â”‚  â”‚          â”‚  â”‚           â”‚  â”‚(worker)  â”‚  â”‚(admin)   â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                     â”‚                                â”‚
â”‚                                     â””â”€â”€â”€â”€â”€â”€â–¶â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚                                              â”‚ rejected â”‚            â”‚
â”‚                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Complete User Flows

### Flow 1: Citizen Reports Waste
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  CITIZEN REPORTING FLOW                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  Open   â”‚â”€â”€â”€â”€â–¶â”‚  Take   â”‚â”€â”€â”€â”€â–¶â”‚   AI    â”‚â”€â”€â”€â”€â–¶â”‚  Fill   â”‚       â”‚
â”‚  â”‚   App   â”‚     â”‚  Photo  â”‚     â”‚ Verify  â”‚     â”‚  Form   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                         â”‚            â”‚
â”‚                                                         â–¼            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  Earn   â”‚â—€â”€â”€â”€â”€â”‚  Track  â”‚â—€â”€â”€â”€â”€â”‚ Submit  â”‚â—€â”€â”€â”€â”€â”‚  Add    â”‚       â”‚
â”‚  â”‚ Points  â”‚     â”‚ Status  â”‚     â”‚ Report  â”‚     â”‚Location â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                      â”‚
â”‚  TECHNICAL FLOW:                                                     â”‚
â”‚  1. User opens camera â†’ expo-camera captures image                   â”‚
â”‚  2. Image sent to Gemini AI â†’ validates if waste present            â”‚
â”‚  3. AI auto-suggests: category, severity, description               â”‚
â”‚  4. GPS captured via expo-location                                  â”‚
â”‚  5. Image uploaded to Supabase Storage                              â”‚
â”‚  6. Report record created in 'reports' table                        â”‚
â”‚  7. User's points/report count updated                              â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Flow 2: Admin Assigns Task
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ADMIN TASK ASSIGNMENT FLOW                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  View   â”‚â”€â”€â”€â”€â–¶â”‚ Select  â”‚â”€â”€â”€â”€â–¶â”‚ Choose  â”‚â”€â”€â”€â”€â–¶â”‚   Set   â”‚       â”‚
â”‚  â”‚Unassign â”‚     â”‚ Report  â”‚     â”‚ Worker  â”‚     â”‚Priority â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                         â”‚            â”‚
â”‚                                                         â–¼            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Worker  â”‚â—€â”€â”€â”€â”€â”‚  Task   â”‚â—€â”€â”€â”€â”€â”‚ Report  â”‚â—€â”€â”€â”€â”€â”‚ Assign  â”‚       â”‚
â”‚  â”‚ Notifiedâ”‚     â”‚ Created â”‚     â”‚ Updated â”‚     â”‚  Task   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                      â”‚
â”‚  TECHNICAL FLOW:                                                     â”‚
â”‚  1. Web dashboard queries reports where status IN (submitted,       â”‚
â”‚     verified) AND assigned_worker_id IS NULL                        â”‚
â”‚  2. Admin selects report, picks worker, sets SLA                    â”‚
â”‚  3. INSERT into worker_tasks with task_status='assigned'            â”‚
â”‚  4. UPDATE reports: assigned_worker_id, status='IN_PROGRESS'        â”‚
â”‚  5. Worker's mobile app refreshes â†’ sees new task                   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Flow 3: Worker Completes Task
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  WORKER TASK COMPLETION FLOW                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  View   â”‚â”€â”€â”€â”€â–¶â”‚Navigate â”‚â”€â”€â”€â”€â–¶â”‚  Clean  â”‚â”€â”€â”€â”€â–¶â”‚  Take   â”‚       â”‚
â”‚  â”‚  Task   â”‚     â”‚ to Site â”‚     â”‚ Waste   â”‚     â”‚ Photo   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                         â”‚            â”‚
â”‚                                                         â–¼            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚Back to  â”‚â—€â”€â”€â”€â”€â”‚ Status= â”‚â—€â”€â”€â”€â”€â”‚ Upload  â”‚â—€â”€â”€â”€â”€â”‚  Add    â”‚       â”‚
â”‚  â”‚Dashboardâ”‚     â”‚completedâ”‚     â”‚  Proof  â”‚     â”‚ Notes   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                      â”‚
â”‚  TECHNICAL FLOW:                                                     â”‚
â”‚  1. Worker opens task detail â†’ sees report location on map          â”‚
â”‚  2. "Navigate" opens Google/Apple Maps with directions              â”‚
â”‚  3. Worker takes photo proof using expo-image-picker                â”‚
â”‚  4. Image uploaded to 'resolution-proofs' storage bucket            â”‚
â”‚  5. UPDATE worker_tasks: task_status='completed',                   â”‚
â”‚     resolution_proof={url: '...'}, resolution_notes                 â”‚
â”‚  6. UPDATE reports: status='pending_verification'                   â”‚
â”‚  7. Task removed from worker's active list                          â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Flow 4: Admin Verifies & Resolves
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ADMIN VERIFICATION FLOW                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  View   â”‚â”€â”€â”€â”€â–¶â”‚  View   â”‚â”€â”€â”€â”€â–¶â”‚  Rate   â”‚â”€â”€â”€â”€â–¶â”‚ Approve â”‚       â”‚
â”‚  â”‚Pending  â”‚     â”‚ Proof   â”‚     â”‚ Quality â”‚     â”‚  Task   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                         â”‚            â”‚
â”‚                                                         â–¼            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Citizen â”‚â—€â”€â”€â”€â”€â”‚ Report= â”‚â—€â”€â”€â”€â”€â”‚  Copy   â”‚â—€â”€â”€â”€â”€â”‚  Task=  â”‚       â”‚
â”‚  â”‚ Sees âœ“  â”‚     â”‚RESOLVED â”‚     â”‚ProofURL â”‚     â”‚approved â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                      â”‚
â”‚  TECHNICAL FLOW:                                                     â”‚
â”‚  1. Web queries worker_tasks WHERE task_status='completed'          â”‚
â”‚  2. Admin sees proof image, worker notes, location                  â”‚
â”‚  3. Admin clicks Approve (or Reject)                                â”‚
â”‚  4. UPDATE worker_tasks: task_status='approved',                    â”‚
â”‚     quality_score, verified_at                                      â”‚
â”‚  5. COPY resolution_proof.url â†’ reports.resolution_image_url        â”‚
â”‚  6. UPDATE reports: status='RESOLVED'                               â”‚
â”‚  7. Citizen sees BEFORE/AFTER images in app                         â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Technology Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     TECHNOLOGY STACK                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  MOBILE APP (apps/mobile/)                                          â”‚
â”‚  â”œâ”€ React Native 0.76                                               â”‚
â”‚  â”œâ”€ Expo SDK 52 (Managed workflow)                                  â”‚
â”‚  â”œâ”€ Expo Router (File-based routing)                                â”‚
â”‚  â”œâ”€ NativeWind (Tailwind for RN)                                    â”‚
â”‚  â”œâ”€ Zustand (State management)                                      â”‚
â”‚  â”œâ”€ expo-camera (Photo capture)                                     â”‚
â”‚  â”œâ”€ expo-location (GPS tracking)                                    â”‚
â”‚  â”œâ”€ expo-image-picker (Image selection)                             â”‚
â”‚  â””â”€ lucide-react-native (Icons)                                     â”‚
â”‚                                                                      â”‚
â”‚  WEB ADMIN (apps/web/)                                              â”‚
â”‚  â”œâ”€ React 19                                                        â”‚
â”‚  â”œâ”€ Vite (Build tool)                                               â”‚
â”‚  â”œâ”€ React Router DOM                                                â”‚
â”‚  â”œâ”€ Tailwind CSS                                                    â”‚
â”‚  â”œâ”€ Leaflet (Interactive maps)                                      â”‚
â”‚  â”œâ”€ Recharts (Analytics charts)                                     â”‚
â”‚  â””â”€ lucide-react (Icons)                                            â”‚
â”‚                                                                      â”‚
â”‚  BACKEND (Supabase)                                                 â”‚
â”‚  â”œâ”€ PostgreSQL Database                                             â”‚
â”‚  â”œâ”€ Row Level Security (RLS)                                        â”‚
â”‚  â”œâ”€ Storage Buckets                                                 â”‚
â”‚  â”œâ”€ Authentication (Phone OTP)                                      â”‚
â”‚  â”œâ”€ Realtime Subscriptions                                          â”‚
â”‚  â””â”€ Edge Functions (optional)                                       â”‚
â”‚                                                                      â”‚
â”‚  AI SERVICE                                                         â”‚
â”‚  â””â”€ Google Gemini API (Image analysis)                              â”‚
â”‚                                                                      â”‚
â”‚  DEVELOPMENT                                                        â”‚
â”‚  â”œâ”€ TypeScript (Type safety)                                        â”‚
â”‚  â”œâ”€ pnpm/npm (Package manager)                                      â”‚
â”‚  â”œâ”€ Monorepo structure                                              â”‚
â”‚  â””â”€ ESLint/Prettier                                                 â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Key Features

### 1. AI-Powered Waste Detection
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User takes photo â†’ Gemini AI analyzes â†’ Auto-fills form           â”‚
â”‚                                                                      â”‚
â”‚  AI Determines:                                                      â”‚
â”‚  â€¢ Is this actually waste? (validation)                             â”‚
â”‚  â€¢ Category: Plastic, Household, E-waste, etc.                      â”‚
â”‚  â€¢ Severity: Low, Medium, High, Critical                            â”‚
â”‚  â€¢ Suggested description                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Gamification System
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     GAMIFICATION                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  POINTS SYSTEM:                                                      â”‚
â”‚  â”œâ”€ Submit Report    = 10 points                                    â”‚
â”‚  â”œâ”€ Report Resolved  = 25 points                                    â”‚
â”‚  â”œâ”€ Daily Login      = 5 points                                     â”‚
â”‚  â””â”€ Share Report     = 2 points                                     â”‚
â”‚                                                                      â”‚
â”‚  RANKS:                                                             â”‚
â”‚  â”œâ”€ ğŸ¥‰ Bronze    (0 - 100 points)                                   â”‚
â”‚  â”œâ”€ ğŸ¥ˆ Silver    (101 - 500 points)                                 â”‚
â”‚  â”œâ”€ ğŸ¥‡ Gold      (501 - 2000 points)                                â”‚
â”‚  â”œâ”€ ğŸ’ Platinum  (2001 - 5000 points)                               â”‚
â”‚  â””â”€ ğŸ‘‘ Diamond   (5000+ points)                                     â”‚
â”‚                                                                      â”‚
â”‚  LEADERBOARD:                                                       â”‚
â”‚  Shows top citizens by points with weekly/monthly stats             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Real-time Tracking
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     TRACKING FEATURES                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  CITIZEN VIEW:                                                       â”‚
â”‚  â€¢ Live status updates on submitted reports                         â”‚
â”‚  â€¢ Visual timeline: Submitted â†’ Assigned â†’ In Progress â†’ Resolved   â”‚
â”‚  â€¢ Before/After comparison images                                   â”‚
â”‚                                                                      â”‚
â”‚  ADMIN VIEW:                                                        â”‚
â”‚  â€¢ Live map with all reports (color-coded by severity)              â”‚
â”‚  â€¢ Worker locations (optional)                                      â”‚
â”‚  â€¢ SLA breach indicators                                            â”‚
â”‚  â€¢ Analytics dashboard with trends                                  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## API & Data Flow

### Supabase Client Setup
```typescript
// apps/mobile/lib/supabase.ts
import { createClient } from '@supabase/supabase-js';
import AsyncStorage from '@react-native-async-storage/async-storage';

export const supabase = createClient(
  SUPABASE_URL,
  SUPABASE_ANON_KEY,
  {
    auth: {
      storage: AsyncStorage,
      autoRefreshToken: true,
      persistSession: true
    }
  }
);
```

### Common API Operations
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API OPERATIONS                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  CREATE REPORT:                                                      â”‚
â”‚  supabase.from('reports').insert({                                  â”‚
â”‚    user_id, location, waste_category, severity, description,        â”‚
â”‚    media_file, status: 'submitted'                                  â”‚
â”‚  })                                                                  â”‚
â”‚                                                                      â”‚
â”‚  FETCH REPORTS (with likes/shares):                                 â”‚
â”‚  supabase.from('reports').select(`                                  â”‚
â”‚    *, likes(count), shares(count)                                   â”‚
â”‚  `).order('created_at', { ascending: false })                       â”‚
â”‚                                                                      â”‚
â”‚  ASSIGN TASK:                                                        â”‚
â”‚  supabase.from('worker_tasks').insert({                             â”‚
â”‚    report_id, worker_id, priority, sla_deadline,                    â”‚
â”‚    task_status: 'assigned'                                          â”‚
â”‚  })                                                                  â”‚
â”‚                                                                      â”‚
â”‚  COMPLETE TASK:                                                      â”‚
â”‚  supabase.from('worker_tasks').update({                             â”‚
â”‚    task_status: 'completed', resolution_proof: {url},               â”‚
â”‚    resolution_notes, completed_at                                   â”‚
â”‚  }).eq('id', taskId)                                                â”‚
â”‚                                                                      â”‚
â”‚  UPLOAD IMAGE:                                                       â”‚
â”‚  supabase.storage.from('report-images')                             â”‚
â”‚    .upload(fileName, fileData, { contentType: 'image/jpeg' })       â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Summary

Clear City is a comprehensive civic waste management solution that:

1. **Empowers Citizens** - Easy reporting with AI assistance
2. **Enables Workers** - Efficient task management with navigation
3. **Empowers Administrators** - Full oversight and verification
4. **Ensures Accountability** - Before/After proof system
5. **Encourages Participation** - Gamification and leaderboards

The system creates a closed loop where every waste report is tracked from submission to resolution, with full transparency for all stakeholders.

```
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘                                                            â•‘
    â•‘   ğŸ‘¤ CITIZEN REPORTS  â†’  ğŸ‘¨â€ğŸ’¼ ADMIN ASSIGNS  â†’  ğŸ”§ WORKER   â•‘
    â•‘          â†‘                                   RESOLVES       â•‘
    â•‘          â”‚                                      â”‚          â•‘
    â•‘          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ VERIFICATION â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â•‘
    â•‘                                                            â•‘
    â•‘                  ğŸ™ï¸ CLEANER CITY ğŸ™ï¸                        â•‘
    â•‘                                                            â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## Detailed Feature Documentation

### ğŸ“± USER MOBILE APP (apps/mobile/app/(tabs)/)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER APP - COMPLETE FEATURES                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ HOME SCREEN (home.tsx)                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchReports()      â†’ Load user's submitted reports             â”‚
â”‚  â”œâ”€ onRefresh()         â†’ Pull-to-refresh functionality             â”‚
â”‚  â”œâ”€ generatePDF()       â†’ Export reports as PDF document            â”‚
â”‚  â”œâ”€ navigateToDetail()  â†’ Open report detail screen                 â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ User greeting with avatar                                        â”‚
â”‚  â”œâ”€ Quick stats (total reports, pending, resolved)                  â”‚
â”‚  â”œâ”€ Report list with:                                                â”‚
â”‚  â”‚   â”œâ”€ Report image thumbnail                                      â”‚
â”‚  â”‚   â”œâ”€ Waste category badge                                        â”‚
â”‚  â”‚   â”œâ”€ Status indicator (color-coded)                              â”‚
â”‚  â”‚   â”œâ”€ Location address                                            â”‚
â”‚  â”‚   â”œâ”€ Time since submission                                       â”‚
â”‚  â”‚   â””â”€ Like/share counts                                           â”‚
â”‚  â””â”€ Empty state if no reports                                       â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ—ºï¸ MAP SCREEN (map.tsx)                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ loadReports()       â†’ Fetch all reports with locations          â”‚
â”‚  â”œâ”€ centerOnUser()      â†’ Get user's current GPS location           â”‚
â”‚  â”œâ”€ onMarkerPress()     â†’ Show report details popup                 â”‚
â”‚  â”œâ”€ filterByCategory()  â†’ Filter markers by waste type              â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ Interactive MapView (react-native-maps)                         â”‚
â”‚  â”œâ”€ Custom markers (color by severity):                             â”‚
â”‚  â”‚   â”œâ”€ ğŸ”´ Critical (red)                                           â”‚
â”‚  â”‚   â”œâ”€ ğŸŸ  High (orange)                                            â”‚
â”‚  â”‚   â”œâ”€ ğŸŸ¡ Medium (yellow)                                          â”‚
â”‚  â”‚   â””â”€ ğŸŸ¢ Low (green)                                              â”‚
â”‚  â”œâ”€ Marker callout with report preview                              â”‚
â”‚  â”œâ”€ My location button                                              â”‚
â”‚  â””â”€ Category filter chips                                           â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¸ REPORT SCREEN (report.tsx + report-camera.tsx)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ requestCameraPermission() â†’ Request camera access               â”‚
â”‚  â”œâ”€ takePicture()       â†’ Capture photo with expo-camera            â”‚
â”‚  â”œâ”€ pickFromGallery()   â†’ Select from photo library                 â”‚
â”‚  â”œâ”€ analyzeWithAI()     â†’ Send image to Gemini API                  â”‚
â”‚  â”œâ”€ getLocation()       â†’ Capture GPS coordinates                   â”‚
â”‚  â”œâ”€ uploadImage()       â†’ Upload to Supabase Storage                â”‚
â”‚  â”œâ”€ submitReport()      â†’ Create report in database                 â”‚
â”‚  â”‚                                                                   â”‚
â”‚  AI ANALYSIS (Gemini):                                               â”‚
â”‚  â”œâ”€ Validates if image contains waste                               â”‚
â”‚  â”œâ”€ Suggests waste_category:                                        â”‚
â”‚  â”‚   â”œâ”€ Plastic, Household, E-waste, Construction                   â”‚
â”‚  â”‚   â”œâ”€ Organic, Hazardous, Medical, Other                          â”‚
â”‚  â”œâ”€ Suggests severity: low/medium/high/critical                     â”‚
â”‚  â””â”€ Auto-generates description                                      â”‚
â”‚                                                                      â”‚
â”‚  FORM FIELDS:                                                        â”‚
â”‚  â”œâ”€ Photo preview (required)                                        â”‚
â”‚  â”œâ”€ Category dropdown (AI pre-filled)                               â”‚
â”‚  â”œâ”€ Severity selector (AI pre-filled)                               â”‚
â”‚  â”œâ”€ Description textarea (AI pre-filled, editable)                  â”‚
â”‚  â””â”€ Location (auto-captured, shown on mini-map)                     â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” EXPLORE SCREEN (explore.tsx)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchAllReports()   â†’ Load community reports feed               â”‚
â”‚  â”œâ”€ searchReports()     â†’ Search by description/location            â”‚
â”‚  â”œâ”€ filterReports()     â†’ Filter by category/severity/status        â”‚
â”‚  â”œâ”€ likeReport()        â†’ Toggle like on a report                   â”‚
â”‚  â”œâ”€ shareReport()       â†’ Share to social media                     â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ Search bar with filter button                                   â”‚
â”‚  â”œâ”€ Filter modal with options:                                      â”‚
â”‚  â”‚   â”œâ”€ Category multi-select                                       â”‚
â”‚  â”‚   â”œâ”€ Severity range                                              â”‚
â”‚  â”‚   â”œâ”€ Status (all/pending/resolved)                               â”‚
â”‚  â”‚   â””â”€ Date range                                                  â”‚
â”‚  â”œâ”€ Instagram-style feed:                                           â”‚
â”‚  â”‚   â”œâ”€ Report image (full width)                                   â”‚
â”‚  â”‚   â”œâ”€ User avatar and name                                        â”‚
â”‚  â”‚   â”œâ”€ Like button with count                                      â”‚
â”‚  â”‚   â”œâ”€ Share button                                                â”‚
â”‚  â”‚   â”œâ”€ Category/severity badges                                    â”‚
â”‚  â”‚   â””â”€ Description text                                            â”‚
â”‚  â””â”€ Pull-to-refresh                                                 â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ† LEADERBOARD SCREEN (leaderboard.tsx)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchLeaderboard()  â†’ Get ranked users by points                â”‚
â”‚  â”œâ”€ switchPeriod()      â†’ Toggle weekly/monthly/all-time            â”‚
â”‚  â”œâ”€ highlightCurrentUser() â†’ Scroll to user's position             â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ Period selector tabs (Weekly/Monthly/All-time)                  â”‚
â”‚  â”œâ”€ Top 3 podium with:                                              â”‚
â”‚  â”‚   â”œâ”€ Gold trophy (1st)                                           â”‚
â”‚  â”‚   â”œâ”€ Silver medal (2nd)                                          â”‚
â”‚  â”‚   â””â”€ Bronze medal (3rd)                                          â”‚
â”‚  â”œâ”€ Ranked list (#4 and below):                                     â”‚
â”‚  â”‚   â”œâ”€ Rank number                                                 â”‚
â”‚  â”‚   â”œâ”€ Avatar                                                      â”‚
â”‚  â”‚   â”œâ”€ Username                                                    â”‚
â”‚  â”‚   â”œâ”€ Points                                                      â”‚
â”‚  â”‚   â””â”€ Rank badge (Bronze/Silver/Gold/Platinum/Diamond)            â”‚
â”‚  â””â”€ Current user highlight                                          â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¤ PROFILE SCREEN (profile.tsx)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchProfile()      â†’ Load user profile data                    â”‚
â”‚  â”œâ”€ updateProfile()     â†’ Save profile changes                      â”‚
â”‚  â”œâ”€ updateAvatar()      â†’ Change profile picture                    â”‚
â”‚  â”œâ”€ switchToWorker()    â†’ Navigate to worker login                  â”‚
â”‚  â”œâ”€ logout()            â†’ Sign out and clear session                â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ Profile header:                                                 â”‚
â”‚  â”‚   â”œâ”€ Avatar (editable)                                           â”‚
â”‚  â”‚   â”œâ”€ Full name                                                   â”‚
â”‚  â”‚   â”œâ”€ Phone number                                                â”‚
â”‚  â”‚   â””â”€ Rank badge with level                                       â”‚
â”‚  â”œâ”€ Stats cards:                                                    â”‚
â”‚  â”‚   â”œâ”€ Total reports                                               â”‚
â”‚  â”‚   â”œâ”€ Points earned                                               â”‚
â”‚  â”‚   â”œâ”€ Rank position                                               â”‚
â”‚  â”‚   â””â”€ Reports this month                                          â”‚
â”‚  â”œâ”€ Edit profile form:                                              â”‚
â”‚  â”‚   â”œâ”€ Full name input                                             â”‚
â”‚  â”‚   â””â”€ Save button                                                 â”‚
â”‚  â”œâ”€ Action buttons:                                                 â”‚
â”‚  â”‚   â”œâ”€ "Switch to Worker" (if registered)                         â”‚
â”‚  â”‚   â”œâ”€ "Become a Worker" (if not)                                  â”‚
â”‚  â”‚   â””â”€ "Logout"                                                    â”‚
â”‚  â””â”€ App version info                                                â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ REPORT DETAIL (report/[id].tsx)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchReport()       â†’ Load single report details                â”‚
â”‚  â”œâ”€ likeReport()        â†’ Like/unlike the report                    â”‚
â”‚  â”œâ”€ shareReport()       â†’ Share to social platforms                 â”‚
â”‚  â”œâ”€ deleteReport()      â†’ Delete own report (if pending)            â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ BEFORE image (original report photo)                            â”‚
â”‚  â”œâ”€ AFTER image (resolution proof, if resolved)                     â”‚
â”‚  â”œâ”€ Report details:                                                 â”‚
â”‚  â”‚   â”œâ”€ Category badge                                              â”‚
â”‚  â”‚   â”œâ”€ Severity indicator                                          â”‚
â”‚  â”‚   â”œâ”€ Status timeline                                             â”‚
â”‚  â”‚   â”œâ”€ Description                                                 â”‚
â”‚  â”‚   â”œâ”€ Location on map                                             â”‚
â”‚  â”‚   â””â”€ Submitted date                                              â”‚
â”‚  â”œâ”€ Social stats (likes, shares)                                    â”‚
â”‚  â””â”€ Action buttons (like, share)                                    â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ğŸ”§ WORKER MOBILE APP (apps/mobile/app/(worker)/)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   WORKER APP - COMPLETE FEATURES                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š DASHBOARD (dashboard.tsx)                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchWorkerData()   â†’ Load worker profile + stats               â”‚
â”‚  â”œâ”€ fetchActiveTasks()  â†’ Get assigned/in-progress tasks            â”‚
â”‚  â”œâ”€ useFocusEffect()    â†’ Auto-refresh on screen focus              â”‚
â”‚  â”œâ”€ onRefresh()         â†’ Pull-to-refresh                           â”‚
â”‚  â”œâ”€ navigateToTask()    â†’ Open task detail screen                   â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ Worker greeting with profile                                    â”‚
â”‚  â”œâ”€ Rank badge (Bronze â†’ Diamond)                                   â”‚
â”‚  â”œâ”€ Stats cards:                                                    â”‚
â”‚  â”‚   â”œâ”€ Assigned tasks (pending)                                    â”‚
â”‚  â”‚   â”œâ”€ In-progress tasks                                           â”‚
â”‚  â”‚   â”œâ”€ Completed tasks (total)                                     â”‚
â”‚  â”‚   â””â”€ SLA compliance %                                            â”‚
â”‚  â”œâ”€ Active tasks list:                                              â”‚
â”‚  â”‚   â”œâ”€ Report image thumbnail                                      â”‚
â”‚  â”‚   â”œâ”€ Category badge                                              â”‚
â”‚  â”‚   â”œâ”€ Priority indicator (low/medium/high/critical)               â”‚
â”‚  â”‚   â”œâ”€ Location address                                            â”‚
â”‚  â”‚   â”œâ”€ SLA deadline countdown                                      â”‚
â”‚  â”‚   â””â”€ Status pill (assigned/in_progress)                          â”‚
â”‚  â””â”€ "View All Tasks" button                                         â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ TASKS LIST (tasks.tsx)                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchTasks()        â†’ Load all worker's tasks                   â”‚
â”‚  â”œâ”€ filterByStatus()    â†’ Filter assigned/in_progress/completed     â”‚
â”‚  â”œâ”€ sortTasks()         â†’ Sort by deadline/priority/date            â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ Tab filters (Assigned/In Progress/Completed)                    â”‚
â”‚  â”œâ”€ Sort dropdown                                                   â”‚
â”‚  â”œâ”€ Task cards with:                                                â”‚
â”‚  â”‚   â”œâ”€ Report preview                                              â”‚
â”‚  â”‚   â”œâ”€ Priority badge                                              â”‚
â”‚  â”‚   â”œâ”€ SLA countdown (red if breached)                             â”‚
â”‚  â”‚   â”œâ”€ Category                                                    â”‚
â”‚  â”‚   â””â”€ Quick action buttons                                        â”‚
â”‚  â””â”€ Empty state per tab                                             â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” EXPLORE TASKS (explore-tasks.tsx)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchAvailableTasks() â†’ Load unassigned reports in area         â”‚
â”‚  â”œâ”€ claimTask()          â†’ Self-assign a task (additional work)     â”‚
â”‚  â”œâ”€ filterByDistance()   â†’ Show nearby reports only                 â”‚
â”‚  â”œâ”€ filterByCategory()   â†’ Filter by waste type                     â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ "Available in your area" header                                 â”‚
â”‚  â”œâ”€ Distance radius selector                                        â”‚
â”‚  â”œâ”€ Unassigned reports list:                                        â”‚
â”‚  â”‚   â”œâ”€ Report image                                                â”‚
â”‚  â”‚   â”œâ”€ Distance from current location                              â”‚
â”‚  â”‚   â”œâ”€ Category/severity                                           â”‚
â”‚  â”‚   â””â”€ "Claim Task" button                                         â”‚
â”‚  â””â”€ Map view toggle                                                 â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ—ºï¸ MAP (map.tsx)                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchAssignedLocations() â†’ Get all assigned task locations      â”‚
â”‚  â”œâ”€ getCurrentLocation()     â†’ Worker's current GPS                 â”‚
â”‚  â”œâ”€ openNavigation()         â†’ Launch Google/Apple Maps             â”‚
â”‚  â”œâ”€ calculateRoute()         â†’ Show route to task                   â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ Full-screen MapView                                             â”‚
â”‚  â”œâ”€ Worker location marker (blue)                                   â”‚
â”‚  â”œâ”€ Task markers:                                                   â”‚
â”‚  â”‚   â”œâ”€ Red = Assigned (needs attention)                            â”‚
â”‚  â”‚   â”œâ”€ Orange = In Progress                                        â”‚
â”‚  â”‚   â””â”€ Green = Completed today                                     â”‚
â”‚  â”œâ”€ Task callouts with quick info                                   â”‚
â”‚  â”œâ”€ "Navigate" button per marker                                    â”‚
â”‚  â””â”€ Recenter button                                                 â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ† LEADERBOARD (leaderboard.tsx)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchWorkerLeaderboard() â†’ Ranked workers by performance        â”‚
â”‚  â”œâ”€ calculateScore()         â†’ Points from tasks + quality          â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ Worker rankings:                                                â”‚
â”‚  â”‚   â”œâ”€ Rank position                                               â”‚
â”‚  â”‚   â”œâ”€ Worker name/avatar                                          â”‚
â”‚  â”‚   â”œâ”€ Tasks completed                                             â”‚
â”‚  â”‚   â”œâ”€ Average quality score                                       â”‚
â”‚  â”‚   â”œâ”€ SLA compliance %                                            â”‚
â”‚  â”‚   â””â”€ Total points                                                â”‚
â”‚  â””â”€ Current worker highlighted                                      â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ… ACHIEVEMENTS (achievements.tsx)                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchAchievements()  â†’ Load earned badges                       â”‚
â”‚  â”œâ”€ checkUnlocks()       â†’ Check for new achievements               â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ Achievement badges:                                             â”‚
â”‚  â”‚   â”œâ”€ First Task Completed                                        â”‚
â”‚  â”‚   â”œâ”€ 10 Tasks Completed                                          â”‚
â”‚  â”‚   â”œâ”€ 100 Tasks Completed                                         â”‚
â”‚  â”‚   â”œâ”€ Perfect SLA Week                                            â”‚
â”‚  â”‚   â”œâ”€ Quality Champion (5â˜… rating)                                â”‚
â”‚  â”‚   â””â”€ Speed Demon (fastest resolution)                            â”‚
â”‚  â”œâ”€ Progress bars for incomplete                                    â”‚
â”‚  â””â”€ Locked achievements (greyed out)                                â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¤ PROFILE (profile.tsx)                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchWorkerProfile() â†’ Load worker details                      â”‚
â”‚  â”œâ”€ updateAvailability() â†’ Toggle available/unavailable             â”‚
â”‚  â”œâ”€ updateProfile()      â†’ Save profile changes                     â”‚
â”‚  â”œâ”€ switchToUser()       â†’ Return to citizen mode                   â”‚
â”‚  â”œâ”€ logout()             â†’ Sign out                                 â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ Worker info:                                                    â”‚
â”‚  â”‚   â”œâ”€ Employee ID                                                 â”‚
â”‚  â”‚   â”œâ”€ Full name                                                   â”‚
â”‚  â”‚   â”œâ”€ Department                                                  â”‚
â”‚  â”‚   â”œâ”€ Ward number                                                 â”‚
â”‚  â”‚   â””â”€ Rank badge                                                  â”‚
â”‚  â”œâ”€ Availability toggle switch                                      â”‚
â”‚  â”œâ”€ Performance stats:                                              â”‚
â”‚  â”‚   â”œâ”€ Total tasks assigned/completed                              â”‚
â”‚  â”‚   â”œâ”€ Average quality score                                       â”‚
â”‚  â”‚   â””â”€ SLA compliance                                              â”‚
â”‚  â””â”€ Action buttons                                                  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ TASK DETAIL (worker-task/[id].tsx)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchTask()          â†’ Load task + report details               â”‚
â”‚  â”œâ”€ handleStartTask()    â†’ Mark task as in_progress                 â”‚
â”‚  â”œâ”€ openMaps()           â†’ Navigate to location                     â”‚
â”‚  â”œâ”€ takeProofPhoto()     â†’ Capture resolution proof                 â”‚
â”‚  â”œâ”€ handleSubmitResolution() â†’ Complete the task                    â”‚
â”‚  â”‚   â”œâ”€ Upload proof image to Storage                               â”‚
â”‚  â”‚   â”œâ”€ Update worker_tasks.task_status='completed'                 â”‚
â”‚  â”‚   â”œâ”€ Store resolution_proof.url                                  â”‚
â”‚  â”‚   â”œâ”€ Store resolution_notes                                      â”‚
â”‚  â”‚   â””â”€ Update reports.status='pending_verification'                â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ Report image (the problem)                                      â”‚
â”‚  â”œâ”€ Task info:                                                      â”‚
â”‚  â”‚   â”œâ”€ Category/severity                                           â”‚
â”‚  â”‚   â”œâ”€ Priority level                                              â”‚
â”‚  â”‚   â”œâ”€ Assignment notes                                            â”‚
â”‚  â”‚   â”œâ”€ SLA deadline                                                â”‚
â”‚  â”‚   â””â”€ Location on map                                             â”‚
â”‚  â”œâ”€ Action buttons:                                                 â”‚
â”‚  â”‚   â”œâ”€ "Start Task" (if assigned)                                  â”‚
â”‚  â”‚   â”œâ”€ "Navigate" (opens maps app)                                 â”‚
â”‚  â”‚   â””â”€ "Complete Task" (if in_progress)                            â”‚
â”‚  â”œâ”€ Completion form:                                                â”‚
â”‚  â”‚   â”œâ”€ Proof photo (required)                                      â”‚
â”‚  â”‚   â”œâ”€ Resolution notes                                            â”‚
â”‚  â”‚   â””â”€ Submit button                                               â”‚
â”‚  â””â”€ Status timeline                                                 â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ğŸ’» WEB ADMIN DASHBOARD (apps/web/src/pages/)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   WEB ADMIN - COMPLETE FEATURES                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š DASHBOARD (Dashboard.tsx)                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchStats()         â†’ Load overview statistics                 â”‚
â”‚  â”œâ”€ fetchRecentReports() â†’ Get latest 10 reports                    â”‚
â”‚  â”œâ”€ fetchWorkerStats()   â†’ Worker performance summary               â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ KPI cards:                                                      â”‚
â”‚  â”‚   â”œâ”€ Total Reports (all time)                                    â”‚
â”‚  â”‚   â”œâ”€ Pending Reports (unassigned)                                â”‚
â”‚  â”‚   â”œâ”€ In Progress (assigned)                                      â”‚
â”‚  â”‚   â”œâ”€ Resolved Today                                              â”‚
â”‚  â”‚   â”œâ”€ Active Workers                                              â”‚
â”‚  â”‚   â””â”€ Average Resolution Time                                     â”‚
â”‚  â”œâ”€ Charts (Recharts):                                              â”‚
â”‚  â”‚   â”œâ”€ Reports by category (pie chart)                             â”‚
â”‚  â”‚   â”œâ”€ Reports over time (line chart)                              â”‚
â”‚  â”‚   â””â”€ Resolution rate (bar chart)                                 â”‚
â”‚  â”œâ”€ Recent reports table                                            â”‚
â”‚  â””â”€ Quick action buttons                                            â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ REPORTS (Reports.tsx)                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchReports()       â†’ Load all reports with pagination         â”‚
â”‚  â”œâ”€ filterReports()      â†’ Apply status/category/date filters       â”‚
â”‚  â”œâ”€ searchReports()      â†’ Full-text search                         â”‚
â”‚  â”œâ”€ exportToCSV()        â†’ Download reports as CSV                  â”‚
â”‚  â”œâ”€ viewDetails()        â†’ Open report detail modal                 â”‚
â”‚  â”œâ”€ deleteReport()       â†’ Admin delete (soft delete)               â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ Filter bar:                                                     â”‚
â”‚  â”‚   â”œâ”€ Status dropdown                                             â”‚
â”‚  â”‚   â”œâ”€ Category multi-select                                       â”‚
â”‚  â”‚   â”œâ”€ Severity filter                                             â”‚
â”‚  â”‚   â”œâ”€ Date range picker                                           â”‚
â”‚  â”‚   â””â”€ Search input                                                â”‚
â”‚  â”œâ”€ Reports table:                                                  â”‚
â”‚  â”‚   â”œâ”€ Thumbnail                                                   â”‚
â”‚  â”‚   â”œâ”€ Category                                                    â”‚
â”‚  â”‚   â”œâ”€ Severity                                                    â”‚
â”‚  â”‚   â”œâ”€ Status (color badge)                                        â”‚
â”‚  â”‚   â”œâ”€ Location                                                    â”‚
â”‚  â”‚   â”œâ”€ Reported by                                                 â”‚
â”‚  â”‚   â”œâ”€ Date                                                        â”‚
â”‚  â”‚   â””â”€ Actions (view/assign/delete)                                â”‚
â”‚  â”œâ”€ Pagination                                                      â”‚
â”‚  â””â”€ Export button                                                   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ TASK ASSIGNMENT (TaskAssignment.tsx)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchData()          â†’ Load unassigned reports + pending tasks  â”‚
â”‚  â”œâ”€ fetchWorkers()       â†’ Get available workers                    â”‚
â”‚  â”œâ”€ handleAssign()       â†’ Create task assignment                   â”‚
â”‚  â”‚   â”œâ”€ INSERT worker_tasks                                         â”‚
â”‚  â”‚   â”œâ”€ UPDATE reports.status='IN_PROGRESS'                         â”‚
â”‚  â”‚   â””â”€ UPDATE workers.total_tasks_assigned                         â”‚
â”‚  â”œâ”€ handleVerify()       â†’ Approve/reject completed task            â”‚
â”‚  â”‚   â”œâ”€ UPDATE worker_tasks.task_status='approved'/'rejected'       â”‚
â”‚  â”‚   â”œâ”€ COPY resolution_proof â†’ reports.resolution_image_url        â”‚
â”‚  â”‚   â””â”€ UPDATE reports.status='RESOLVED'                            â”‚
â”‚  â”‚                                                                   â”‚
â”‚  TAB 1 - UNASSIGNED REPORTS:                                        â”‚
â”‚  â”œâ”€ Displays:                                                       â”‚
â”‚  â”‚   â”œâ”€ Report image                                                â”‚
â”‚  â”‚   â”œâ”€ Category/severity                                           â”‚
â”‚  â”‚   â”œâ”€ Location                                                    â”‚
â”‚  â”‚   â”œâ”€ Time since reported                                         â”‚
â”‚  â”‚   â””â”€ "Assign" button                                             â”‚
â”‚  â”œâ”€ Assign Modal:                                                   â”‚
â”‚  â”‚   â”œâ”€ Report preview                                              â”‚
â”‚  â”‚   â”œâ”€ Worker dropdown (available workers)                         â”‚
â”‚  â”‚   â”œâ”€ Priority selector                                           â”‚
â”‚  â”‚   â”œâ”€ SLA days input                                              â”‚
â”‚  â”‚   â”œâ”€ Assignment notes                                            â”‚
â”‚  â”‚   â””â”€ Confirm button                                              â”‚
â”‚                                                                      â”‚
â”‚  TAB 2 - PENDING VERIFICATION:                                      â”‚
â”‚  â”œâ”€ Displays:                                                       â”‚
â”‚  â”‚   â”œâ”€ Original report image                                       â”‚
â”‚  â”‚   â”œâ”€ Worker's proof image                                        â”‚
â”‚  â”‚   â”œâ”€ Resolution notes                                            â”‚
â”‚  â”‚   â”œâ”€ Worker name                                                 â”‚
â”‚  â”‚   â”œâ”€ Time taken                                                  â”‚
â”‚  â”‚   â””â”€ "Verify" button                                             â”‚
â”‚  â”œâ”€ Verify Modal:                                                   â”‚
â”‚  â”‚   â”œâ”€ Side-by-side BEFORE/AFTER                                   â”‚
â”‚  â”‚   â”œâ”€ Resolution notes                                            â”‚
â”‚  â”‚   â”œâ”€ Quality score (1-5 stars)                                   â”‚
â”‚  â”‚   â”œâ”€ Verification notes                                          â”‚
â”‚  â”‚   â”œâ”€ "Approve" button                                            â”‚
â”‚  â”‚   â””â”€ "Reject" button                                             â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘· WORKER VERIFICATION (WorkerVerification.tsx)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchPendingWorkers()  â†’ Workers awaiting approval              â”‚
â”‚  â”œâ”€ fetchActiveWorkers()   â†’ Currently active workers               â”‚
â”‚  â”œâ”€ approveWorker()        â†’ Activate worker account                â”‚
â”‚  â”œâ”€ rejectWorker()         â†’ Deny worker registration               â”‚
â”‚  â”œâ”€ deactivateWorker()     â†’ Suspend worker                         â”‚
â”‚  â”œâ”€ updateWorkerDetails()  â†’ Edit worker info                       â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ Pending Workers tab:                                            â”‚
â”‚  â”‚   â”œâ”€ Worker name                                                 â”‚
â”‚  â”‚   â”œâ”€ Employee ID                                                 â”‚
â”‚  â”‚   â”œâ”€ Phone number                                                â”‚
â”‚  â”‚   â”œâ”€ Ward/Department                                             â”‚
â”‚  â”‚   â”œâ”€ Registration date                                           â”‚
â”‚  â”‚   â”œâ”€ "Approve" button                                            â”‚
â”‚  â”‚   â””â”€ "Reject" button                                             â”‚
â”‚  â”œâ”€ Active Workers tab:                                             â”‚
â”‚  â”‚   â”œâ”€ Worker details                                              â”‚
â”‚  â”‚   â”œâ”€ Current status (available/busy)                             â”‚
â”‚  â”‚   â”œâ”€ Tasks assigned                                              â”‚
â”‚  â”‚   â”œâ”€ Tasks completed                                             â”‚
â”‚  â”‚   â”œâ”€ Quality score avg                                           â”‚
â”‚  â”‚   â”œâ”€ SLA compliance %                                            â”‚
â”‚  â”‚   â””â”€ Actions (edit/deactivate)                                   â”‚
â”‚  â””â”€ Worker detail modal                                             â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ—ºï¸ LIVE MAP (LiveMap.tsx)                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchAllReports()    â†’ Load reports with locations              â”‚
â”‚  â”œâ”€ fetchWorkerLocations() â†’ Show worker positions (optional)       â”‚
â”‚  â”œâ”€ filterByStatus()     â†’ Toggle status visibility                 â”‚
â”‚  â”œâ”€ showReportPopup()    â†’ Display report details                   â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS (Leaflet map):                                            â”‚
â”‚  â”œâ”€ Full-page interactive map                                       â”‚
â”‚  â”œâ”€ Report markers (color by status):                               â”‚
â”‚  â”‚   â”œâ”€ ğŸ”µ Submitted (new)                                          â”‚
â”‚  â”‚   â”œâ”€ ğŸŸ¡ In Progress                                              â”‚
â”‚  â”‚   â”œâ”€ ğŸŸ  Pending Verification                                     â”‚
â”‚  â”‚   â””â”€ ğŸŸ¢ Resolved                                                 â”‚
â”‚  â”œâ”€ Marker clusters for dense areas                                 â”‚
â”‚  â”œâ”€ Report popup with:                                              â”‚
â”‚  â”‚   â”œâ”€ Image preview                                               â”‚
â”‚  â”‚   â”œâ”€ Category/severity                                           â”‚
â”‚  â”‚   â”œâ”€ Status                                                      â”‚
â”‚  â”‚   â””â”€ Quick action link                                           â”‚
â”‚  â”œâ”€ Legend                                                          â”‚
â”‚  â””â”€ Filter toggles                                                  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ˆ AUDIT & ANALYTICS (AuditAnalytics.tsx)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ fetchAnalytics()     â†’ Load aggregated data                     â”‚
â”‚  â”œâ”€ generateReport()     â†’ Create PDF analytics report              â”‚
â”‚  â”œâ”€ exportData()         â†’ Download raw data                        â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ Performance metrics:                                            â”‚
â”‚  â”‚   â”œâ”€ Average resolution time                                     â”‚
â”‚  â”‚   â”œâ”€ SLA breach rate                                             â”‚
â”‚  â”‚   â”œâ”€ Worker efficiency                                           â”‚
â”‚  â”‚   â””â”€ Category distribution                                       â”‚
â”‚  â”œâ”€ Trend charts:                                                   â”‚
â”‚  â”‚   â”œâ”€ Reports submitted over time                                 â”‚
â”‚  â”‚   â”œâ”€ Resolution rate trend                                       â”‚
â”‚  â”‚   â”œâ”€ Top performing workers                                      â”‚
â”‚  â”‚   â””â”€ Hotspot areas                                               â”‚
â”‚  â”œâ”€ Ward-wise breakdown                                             â”‚
â”‚  â”œâ”€ Date range selector                                             â”‚
â”‚  â””â”€ Export options                                                  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” LOGIN (Login.tsx)                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FUNCTIONS:                                                          â”‚
â”‚  â”œâ”€ handleLogin()        â†’ Authenticate admin                       â”‚
â”‚  â”œâ”€ validateCredentials() â†’ Check admin authorization               â”‚
â”‚  â”‚                                                                   â”‚
â”‚  DISPLAYS:                                                           â”‚
â”‚  â”œâ”€ Login form:                                                     â”‚
â”‚  â”‚   â”œâ”€ Email input                                                 â”‚
â”‚  â”‚   â”œâ”€ Password input                                              â”‚
â”‚  â”‚   â””â”€ Submit button                                               â”‚
â”‚  â”œâ”€ Error messages                                                  â”‚
â”‚  â””â”€ Forgot password link                                            â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Authentication Flows

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AUTHENTICATION SYSTEM                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CITIZEN AUTH (apps/mobile/app/(auth)/)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  ğŸ“± login.tsx:                                                       â”‚
â”‚  â”œâ”€ Phone number input                                              â”‚
â”‚  â”œâ”€ "Send OTP" button                                               â”‚
â”‚  â””â”€ supabase.auth.signInWithOtp({phone})                            â”‚
â”‚                                                                      â”‚
â”‚  ğŸ“± otp.tsx:                                                         â”‚
â”‚  â”œâ”€ 6-digit OTP input                                               â”‚
â”‚  â”œâ”€ Resend OTP countdown                                            â”‚
â”‚  â””â”€ supabase.auth.verifyOtp({phone, token})                         â”‚
â”‚                                                                      â”‚
â”‚  ğŸ“± signup.tsx:                                                      â”‚
â”‚  â”œâ”€ Full name input                                                 â”‚
â”‚  â”œâ”€ Phone number input                                              â”‚
â”‚  â””â”€ Creates user profile in 'users' table                           â”‚
â”‚                                                                      â”‚
â”‚  ğŸ“± role-selector.tsx:                                               â”‚
â”‚  â”œâ”€ "Continue as Citizen" â†’ (tabs)/home                             â”‚
â”‚  â””â”€ "Continue as Worker" â†’ worker-login                             â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WORKER AUTH                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  ğŸ“± worker-login.tsx:                                                â”‚
â”‚  â”œâ”€ Employee ID input                                               â”‚
â”‚  â”œâ”€ Phone number input                                              â”‚
â”‚  â””â”€ Validates worker exists + is_active                             â”‚
â”‚                                                                      â”‚
â”‚  ğŸ“± worker-register.tsx:                                             â”‚
â”‚  â”œâ”€ Full name                                                       â”‚
â”‚  â”œâ”€ Employee ID                                                     â”‚
â”‚  â”œâ”€ Phone number                                                    â”‚
â”‚  â”œâ”€ Ward number                                                     â”‚
â”‚  â”œâ”€ Department                                                      â”‚
â”‚  â””â”€ Creates worker record (pending approval)                        â”‚
â”‚                                                                      â”‚
â”‚  FLOW:                                                               â”‚
â”‚  Worker registers â†’ Admin approves â†’ Worker can login               â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Storage Buckets

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SUPABASE STORAGE BUCKETS                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Bucket Name      â”‚                  Purpose                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  report-images        â”‚  Original waste report photos               â”‚
â”‚                       â”‚  Uploaded by: Citizens                      â”‚
â”‚                       â”‚  Access: Public read                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  resolution-proofs    â”‚  Worker's proof-of-work photos              â”‚
â”‚                       â”‚  Uploaded by: Workers                       â”‚
â”‚                       â”‚  Access: Public read                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  avatars              â”‚  User/Worker profile pictures               â”‚
â”‚                       â”‚  Uploaded by: All users                     â”‚
â”‚                       â”‚  Access: Public read                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

*Documentation generated for Clear City Project*
*Last updated: January 2026*
